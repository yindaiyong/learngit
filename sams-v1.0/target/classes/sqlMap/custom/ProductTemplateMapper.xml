<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.sams.custom.mapper.ProductTemplateMapper" >
  <resultMap id="BaseResultMap" type="com.sams.custom.model.ProductTemplate" >
    <id column="PT_ID" property="ptId" jdbcType="DECIMAL" />
    <result column="PT_TEMPLATE_CODE" property="ptTemplateCode" jdbcType="VARCHAR" />
    <result column="PT_TEMPLATE_NAME" property="ptTemplateName" jdbcType="VARCHAR" />
    <result column="PT_PRODUCT_CODE" property="ptProductCode" jdbcType="VARCHAR" />
    <result column="PT_INDIVIDUAL_OR_INSTITUTION" property="ptIndividualOrInstitution" jdbcType="VARCHAR" />
    <result column="PT_MIN_BIDS_AMT" property="ptMinBidsAmt" jdbcType="DECIMAL" />
    <result column="PT_BIDS_DIFF_AMT" property="ptBidsDiffAmt" jdbcType="DECIMAL" />
    <result column="PT_MAX_BIDS_AMT" property="ptMaxBidsAmt" jdbcType="DECIMAL" />
    <result column="PT_MIN_APP_BIDS_AMT" property="ptMinAppBidsAmt" jdbcType="DECIMAL" />
    <result column="PT_APP_BIDS_DIFF_AMT" property="ptAppBidsDiffAmt" jdbcType="DECIMAL" />
    <result column="PT_MAX_APP_BIDS_AMT" property="ptMaxAppBidsAmt" jdbcType="DECIMAL" />
    <result column="PT_MIN_REDEEM_VOL" property="ptMinRedeemVol" jdbcType="DECIMAL" />
    <result column="PT_REDEEM_DIFF" property="ptRedeemDiff" jdbcType="DECIMAL" />
    <result column="PT_MAX_VOL" property="ptMaxVol" jdbcType="DECIMAL" />
    <result column="PT_MIN_VOL" property="ptMinVol" jdbcType="DECIMAL" />
    <result column="PT_CHANNEL_RATE" property="ptChannelRate" jdbcType="DECIMAL" />
    <result column="PT_PAY_TYPE" property="ptPayType" jdbcType="VARCHAR" />
    <result column="PT_IPO_BEGIN_DATE" property="ptIpoBeginDate" jdbcType="VARCHAR" />
    <result column="PT_IPO_END_DATE" property="ptIpoEndDate" jdbcType="VARCHAR" />
    <result column="PT_PRO_SETUP_DATE" property="ptProSetupDate" jdbcType="VARCHAR" />
    <result column="PT_PRO_END_DATE" property="ptProEndDate" jdbcType="VARCHAR" />
    <result column="PT_PRO_YIELD_TYPE" property="ptProYieldType" jdbcType="VARCHAR" />
    <result column="PT_PRO_YIELD" property="ptProYield" jdbcType="DECIMAL" />
    <result column="PT_FEE_FLAG" property="ptFeeFlag" jdbcType="VARCHAR" />
    <result column="PT_INDI_BUY_FLAG" property="ptIndiBuyFlag" jdbcType="VARCHAR" />
    <result column="PT_INST_BUY_FLAG" property="ptInstBuyFlag" jdbcType="VARCHAR" />
    <result column="PT_PRO_CFM_WAY" property="ptProCfmWay" jdbcType="VARCHAR" />
    <result column="PT_ANNU_CAL_DAYS" property="ptAnnuCalDays" jdbcType="VARCHAR" />
    <result column="PT_MAX_AMOUNT_RAISED" property="ptMaxAmountRaised" jdbcType="DECIMAL" />
    <result column="PT_MIN_AMOUNT_RAISED" property="ptMinAmountRaised" jdbcType="DECIMAL" />
    <result column="PT_CTIME" property="ptCtime" jdbcType="TIMESTAMP" />
    <result column="PT_UTIME" property="ptUtime" jdbcType="TIMESTAMP" />
    <result column="PT_CUSER" property="ptCuser" jdbcType="VARCHAR" />
    <result column="PT_UUSER" property="ptUuser" jdbcType="VARCHAR" />
    <result column="PT_CHECK_STATE" property="ptCheckState" jdbcType="VARCHAR" />
    <result column="PT_CURRENCY"  property="ptCurrency"  jdbcType="VARCHAR"/>
    <result column="PT_ACTION"  property="ptAction"  jdbcType="VARCHAR"/>
    <result column="PT_VALID_FLAG"  property="ptValidFlag"  jdbcType="VARCHAR"/>
    <result column="PT_PRO_CALCULATE_TYPE"  property="ptProCalculateType"  jdbcType="VARCHAR"/>
    <result column="ROW_NUMBER"  property="ptRowNumber"  jdbcType="VARCHAR"/>
    <result column="DICTNAME" property="productTypeName" jdbcType="VARCHAR"/>
  </resultMap>
  <sql id="Base_Column_List" >
    PT_ID, PT_TEMPLATE_CODE, PT_TEMPLATE_NAME, PT_PRODUCT_CODE, PT_INDIVIDUAL_OR_INSTITUTION, 
    PT_MIN_BIDS_AMT, PT_BIDS_DIFF_AMT, PT_MAX_BIDS_AMT, PT_MIN_APP_BIDS_AMT, PT_APP_BIDS_DIFF_AMT, 
    PT_MAX_APP_BIDS_AMT, PT_MIN_REDEEM_VOL, PT_REDEEM_DIFF, PT_MAX_VOL, PT_MIN_VOL, PT_CHANNEL_RATE, 
    PT_PAY_TYPE, PT_IPO_BEGIN_DATE, PT_IPO_END_DATE, PT_PRO_SETUP_DATE, PT_PRO_END_DATE, 
    PT_PRO_YIELD_TYPE, PT_PRO_YIELD, PT_FEE_FLAG, PT_INDI_BUY_FLAG, PT_INST_BUY_FLAG, 
    PT_PRO_CFM_WAY, PT_ANNU_CAL_DAYS, PT_MAX_AMOUNT_RAISED, PT_MIN_AMOUNT_RAISED, 
    PT_CTIME, PT_UTIME, PT_CUSER, PT_UUSER,PT_CHECK_STATE,PT_CURRENCY,PT_ACTION,PT_VALID_FLAG,PT_PRO_CALCULATE_TYPE
  </sql>
  <select id="selectByPrimaryKey1" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    select 
    <include refid="Base_Column_List" />
    from P_PRODUCT_TEMPLATE
    where PT_ID = #{ptId,jdbcType=DECIMAL}
  </select>
  
  <select id="findByTemplateCode" resultMap="BaseResultMap" parameterType="String" >
    select 
    <include refid="Base_Column_List" />
    from P_PRODUCT_TEMPLATE
    where PT_TEMPLATE_CODE = #{ptTemplateCode,jdbcType=DECIMAL}
  </select>
  
  <delete id="deleteByPrimaryKey1" parameterType="java.lang.Long" >
    delete from P_PRODUCT_TEMPLATE
    where PT_ID = #{ptId,jdbcType=DECIMAL}
  </delete>
  
   <delete id="deleteByTemplateCode" parameterType="String" >
    delete from P_PRODUCT_TEMPLATE
    where PT_TEMPLATE_CODE = #{ptTemplateCode,jdbcType=DECIMAL}
  </delete>
  
  <insert id="insert1" parameterType="com.sams.custom.model.ProductTemplate" >
    insert into P_PRODUCT_TEMPLATE (PT_ID, PT_TEMPLATE_CODE, PT_TEMPLATE_NAME, 
      PT_PRODUCT_CODE, PT_INDIVIDUAL_OR_INSTITUTION, 
      PT_MIN_BIDS_AMT, PT_BIDS_DIFF_AMT, PT_MAX_BIDS_AMT, 
      PT_MIN_APP_BIDS_AMT, PT_APP_BIDS_DIFF_AMT, PT_MAX_APP_BIDS_AMT, 
      PT_MIN_REDEEM_VOL, PT_REDEEM_DIFF, PT_MAX_VOL, 
      PT_MIN_VOL, PT_CHANNEL_RATE, PT_PAY_TYPE, 
      PT_IPO_BEGIN_DATE, PT_IPO_END_DATE, PT_PRO_SETUP_DATE, 
      PT_PRO_END_DATE, PT_PRO_YIELD_TYPE, PT_PRO_YIELD, 
      PT_FEE_FLAG, PT_INDI_BUY_FLAG, PT_INST_BUY_FLAG, 
      PT_PRO_CFM_WAY, PT_ANNU_CAL_DAYS,  
      PT_MAX_AMOUNT_RAISED, PT_MIN_AMOUNT_RAISED, PT_CTIME, 
      PT_UTIME, PT_CUSER, PT_UUSER,PT_CURRENCY,PT_CHECK_STATE,PT_ACTION,PT_VALID_FLAG,
      PT_PRO_CALCULATE_TYPE)
    values (#{ptId,jdbcType=DECIMAL}, #{ptTemplateCode,jdbcType=VARCHAR}, #{ptTemplateName,jdbcType=VARCHAR}, 
      #{ptProductCode,jdbcType=VARCHAR}, #{ptIndividualOrInstitution,jdbcType=VARCHAR}, 
      #{ptMinBidsAmt,jdbcType=DECIMAL}, #{ptBidsDiffAmt,jdbcType=DECIMAL}, #{ptMaxBidsAmt,jdbcType=DECIMAL}, 
      #{ptMinAppBidsAmt,jdbcType=DECIMAL}, #{ptAppBidsDiffAmt,jdbcType=DECIMAL}, #{ptMaxAppBidsAmt,jdbcType=DECIMAL}, 
      #{ptMinRedeemVol,jdbcType=DECIMAL}, #{ptRedeemDiff,jdbcType=DECIMAL}, #{ptMaxVol,jdbcType=DECIMAL}, 
      #{ptMinVol,jdbcType=DECIMAL}, #{ptChannelRate,jdbcType=DECIMAL}, #{ptPayType,jdbcType=VARCHAR}, 
      #{ptIpoBeginDate,jdbcType=VARCHAR}, #{ptIpoEndDate,jdbcType=VARCHAR}, #{ptProSetupDate,jdbcType=VARCHAR}, 
      #{ptProEndDate,jdbcType=VARCHAR}, #{ptProYieldType,jdbcType=VARCHAR}, #{ptProYield,jdbcType=DECIMAL}, 
      #{ptFeeFlag,jdbcType=VARCHAR}, #{ptIndiBuyFlag,jdbcType=VARCHAR}, #{ptInstBuyFlag,jdbcType=VARCHAR}, 
      #{ptProCfmWay,jdbcType=VARCHAR}, #{ptAnnuCalDays,jdbcType=VARCHAR}, 
      #{ptMaxAmountRaised,jdbcType=DECIMAL}, #{ptMinAmountRaised,jdbcType=DECIMAL}, #{ptCtime,jdbcType=TIMESTAMP}, 
      #{ptUtime,jdbcType=TIMESTAMP}, #{ptCuser,jdbcType=VARCHAR}, #{ptUuser,jdbcType=VARCHAR}, #{ptCurrency,jdbcType=VARCHAR}, 
      #{ptCheckState,jdbcType=VARCHAR},#{ptAction,jdbcType=VARCHAR},#{ptValidFlag,jdbcType=VARCHAR},#{ptProCalculateType,jdbcType=VARCHAR}
      )
  </insert>
  <insert id="insertSelective1" parameterType="com.sams.custom.model.ProductTemplate" >
    insert into P_PRODUCT_TEMPLATE
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="ptId != null" >
        PT_ID,
      </if>
      <if test="ptTemplateCode != null" >
        PT_TEMPLATE_CODE,
      </if>
      <if test="ptTemplateName != null" >
        PT_TEMPLATE_NAME,
      </if>
      <if test="ptProductCode != null" >
        PT_PRODUCT_CODE,
      </if>
      <if test="ptIndividualOrInstitution != null" >
        PT_INDIVIDUAL_OR_INSTITUTION,
      </if>
      <if test="ptMinBidsAmt != null" >
        PT_MIN_BIDS_AMT,
      </if>
      <if test="ptBidsDiffAmt != null" >
        PT_BIDS_DIFF_AMT,
      </if>
      <if test="ptMaxBidsAmt != null" >
        PT_MAX_BIDS_AMT,
      </if>
      <if test="ptMinAppBidsAmt != null" >
        PT_MIN_APP_BIDS_AMT,
      </if>
      <if test="ptAppBidsDiffAmt != null" >
        PT_APP_BIDS_DIFF_AMT,
      </if>
      <if test="ptMaxAppBidsAmt != null" >
        PT_MAX_APP_BIDS_AMT,
      </if>
      <if test="ptMinRedeemVol != null" >
        PT_MIN_REDEEM_VOL,
      </if>
      <if test="ptRedeemDiff != null" >
        PT_REDEEM_DIFF,
      </if>
      <if test="ptMaxVol != null" >
        PT_MAX_VOL,
      </if>
      <if test="ptMinVol != null" >
        PT_MIN_VOL,
      </if>
      <if test="ptChannelRate != null" >
        PT_CHANNEL_RATE,
      </if>
      <if test="ptPayType != null" >
        PT_PAY_TYPE,
      </if>
      <if test="ptIpoBeginDate != null" >
        PT_IPO_BEGIN_DATE,
      </if>
      <if test="ptIpoEndDate != null" >
        PT_IPO_END_DATE,
      </if>
      <if test="ptProSetupDate != null" >
        PT_PRO_SETUP_DATE,
      </if>
      <if test="ptProEndDate != null" >
        PT_PRO_END_DATE,
      </if>
      <if test="ptProYieldType != null" >
        PT_PRO_YIELD_TYPE,
      </if>
      <if test="ptProYield != null" >
        PT_PRO_YIELD,
      </if>
      <if test="ptFeeFlag != null" >
        PT_FEE_FLAG,
      </if>
      <if test="ptIndiBuyFlag != null" >
        PT_INDI_BUY_FLAG,
      </if>
      <if test="ptInstBuyFlag != null" >
        PT_INST_BUY_FLAG,
      </if>
      <if test="ptProCfmWay != null" >
        PT_PRO_CFM_WAY,
      </if>
      <if test="ptAnnuCalDays != null" >
        PT_ANNU_CAL_DAYS,
      </if>
      <if test="ptMaxAmountRaised != null" >
        PT_MAX_AMOUNT_RAISED,
      </if>
      <if test="ptMinAmountRaised != null" >
        PT_MIN_AMOUNT_RAISED,
      </if>
      <if test="ptCtime != null" >
        PT_CTIME,
      </if>
      <if test="ptUtime != null" >
        PT_UTIME,
      </if>
      <if test="ptCuser != null" >
        PT_CUSER,
      </if>
      <if test="ptUuser != null" >
        PT_UUSER,
      </if>
      <if test="ptCurrency != null" >
        PT_CURRENCY,
      </if>
       <if test="ptCheckState != null" >
        PT_CHECK_STATE,
      </if>
      <if test="ptAction != null" >
        PT_ACTION
      </if>
      <if test="ptValidFlag != null" >
        PT_VALID_FLAG
      </if>
      <if test="ptProCalculateType != null" >
        PT_PRO_CALCULATE_TYPE
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="ptId != null" >
        #{ptId,jdbcType=DECIMAL},
      </if>
      <if test="ptTemplateCode != null" >
        #{ptTemplateCode,jdbcType=VARCHAR},
      </if>
      <if test="ptTemplateName != null" >
        #{ptTemplateName,jdbcType=VARCHAR},
      </if>
      <if test="ptProductCode != null" >
        #{ptProductCode,jdbcType=VARCHAR},
      </if>
      <if test="ptIndividualOrInstitution != null" >
        #{ptIndividualOrInstitution,jdbcType=VARCHAR},
      </if>
      <if test="ptMinBidsAmt != null" >
        #{ptMinBidsAmt,jdbcType=DECIMAL},
      </if>
      <if test="ptBidsDiffAmt != null" >
        #{ptBidsDiffAmt,jdbcType=DECIMAL},
      </if>
      <if test="ptMaxBidsAmt != null" >
        #{ptMaxBidsAmt,jdbcType=DECIMAL},
      </if>
      <if test="ptMinAppBidsAmt != null" >
        #{ptMinAppBidsAmt,jdbcType=DECIMAL},
      </if>
      <if test="ptAppBidsDiffAmt != null" >
        #{ptAppBidsDiffAmt,jdbcType=DECIMAL},
      </if>
      <if test="ptMaxAppBidsAmt != null" >
        #{ptMaxAppBidsAmt,jdbcType=DECIMAL},
      </if>
      <if test="ptMinRedeemVol != null" >
        #{ptMinRedeemVol,jdbcType=DECIMAL},
      </if>
      <if test="ptRedeemDiff != null" >
        #{ptRedeemDiff,jdbcType=DECIMAL},
      </if>
      <if test="ptMaxVol != null" >
        #{ptMaxVol,jdbcType=DECIMAL},
      </if>
      <if test="ptMinVol != null" >
        #{ptMinVol,jdbcType=DECIMAL},
      </if>
      <if test="ptChannelRate != null" >
        #{ptChannelRate,jdbcType=DECIMAL},
      </if>
      <if test="ptPayType != null" >
        #{ptPayType,jdbcType=VARCHAR},
      </if>
      <if test="ptIpoBeginDate != null" >
        #{ptIpoBeginDate,jdbcType=VARCHAR},
      </if>
      <if test="ptIpoEndDate != null" >
        #{ptIpoEndDate,jdbcType=VARCHAR},
      </if>
      <if test="ptProSetupDate != null" >
        #{ptProSetupDate,jdbcType=VARCHAR},
      </if>
      <if test="ptProEndDate != null" >
        #{ptProEndDate,jdbcType=VARCHAR},
      </if>
      <if test="ptProYieldType != null" >
        #{ptProYieldType,jdbcType=VARCHAR},
      </if>
      <if test="ptProYield != null" >
        #{ptProYield,jdbcType=DECIMAL},
      </if>
      <if test="ptFeeFlag != null" >
        #{ptFeeFlag,jdbcType=VARCHAR},
      </if>
      <if test="ptIndiBuyFlag != null" >
        #{ptIndiBuyFlag,jdbcType=VARCHAR},
      </if>
      <if test="ptInstBuyFlag != null" >
        #{ptInstBuyFlag,jdbcType=VARCHAR},
      </if>
      <if test="ptProCfmWay != null" >
        #{ptProCfmWay,jdbcType=VARCHAR},
      </if>
      <if test="ptAnnuCalDays != null" >
        #{ptAnnuCalDays,jdbcType=VARCHAR},
      </if>
      <if test="ptMaxAmountRaised != null" >
        #{ptMaxAmountRaised,jdbcType=DECIMAL},
      </if>
      <if test="ptMinAmountRaised != null" >
        #{ptMinAmountRaised,jdbcType=DECIMAL},
      </if>
      <if test="ptCtime != null" >
        #{ptCtime,jdbcType=TIMESTAMP},
      </if>
      <if test="ptUtime != null" >
        #{ptUtime,jdbcType=TIMESTAMP},
      </if>
      <if test="ptCuser != null" >
        #{ptCuser,jdbcType=VARCHAR},
      </if>
      <if test="ptUuser != null" >
        #{ptUuser,jdbcType=VARCHAR},
      </if>
      <if test="ptCurrency != null" >
        #{ptCurrency,jdbcType=VARCHAR},
      </if>
      <if test="ptCheckState != null" >
        #{ptCheckState,jdbcType=VARCHAR},
      </if>
      <if test="ptAction != null" >
        #{ptAction,jdbcType=VARCHAR},
      </if>
      <if test="ptValidFlag != null" >
        #{ptValidFlag,jdbcType=VARCHAR},
      </if>
      <if test="ptProCalculateType != null" >
        #{ptProCalculateType,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective1" parameterType="com.sams.custom.model.ProductTemplate" >
    update P_PRODUCT_TEMPLATE
    <set >
      <if test="ptTemplateCode != null" >
        PT_TEMPLATE_CODE = #{ptTemplateCode,jdbcType=VARCHAR},
      </if>
      <if test="ptTemplateName != null" >
        PT_TEMPLATE_NAME = #{ptTemplateName,jdbcType=VARCHAR},
      </if>
      <if test="ptProductCode != null" >
        PT_PRODUCT_CODE = #{ptProductCode,jdbcType=VARCHAR},
      </if>
      <if test="ptIndividualOrInstitution != null" >
        PT_INDIVIDUAL_OR_INSTITUTION = #{ptIndividualOrInstitution,jdbcType=VARCHAR},
      </if>
      <if test="ptMinBidsAmt != null" >
        PT_MIN_BIDS_AMT = #{ptMinBidsAmt,jdbcType=DECIMAL},
      </if>
      <if test="ptBidsDiffAmt != null" >
        PT_BIDS_DIFF_AMT = #{ptBidsDiffAmt,jdbcType=DECIMAL},
      </if>
      <if test="ptMaxBidsAmt != null" >
        PT_MAX_BIDS_AMT = #{ptMaxBidsAmt,jdbcType=DECIMAL},
      </if>
      <if test="ptMinAppBidsAmt != null" >
        PT_MIN_APP_BIDS_AMT = #{ptMinAppBidsAmt,jdbcType=DECIMAL},
      </if>
      <if test="ptAppBidsDiffAmt != null" >
        PT_APP_BIDS_DIFF_AMT = #{ptAppBidsDiffAmt,jdbcType=DECIMAL},
      </if>
      <if test="ptMaxAppBidsAmt != null" >
        PT_MAX_APP_BIDS_AMT = #{ptMaxAppBidsAmt,jdbcType=DECIMAL},
      </if>
      <if test="ptMinRedeemVol != null" >
        PT_MIN_REDEEM_VOL = #{ptMinRedeemVol,jdbcType=DECIMAL},
      </if>
      <if test="ptRedeemDiff != null" >
        PT_REDEEM_DIFF = #{ptRedeemDiff,jdbcType=DECIMAL},
      </if>
      <if test="ptMaxVol != null" >
        PT_MAX_VOL = #{ptMaxVol,jdbcType=DECIMAL},
      </if>
      <if test="ptMinVol != null" >
        PT_MIN_VOL = #{ptMinVol,jdbcType=DECIMAL},
      </if>
      <if test="ptChannelRate != null" >
        PT_CHANNEL_RATE = #{ptChannelRate,jdbcType=DECIMAL},
      </if>
      <if test="ptPayType != null" >
        PT_PAY_TYPE = #{ptPayType,jdbcType=VARCHAR},
      </if>
      <if test="ptIpoBeginDate != null" >
        PT_IPO_BEGIN_DATE = #{ptIpoBeginDate,jdbcType=VARCHAR},
      </if>
      <if test="ptIpoEndDate != null" >
        PT_IPO_END_DATE = #{ptIpoEndDate,jdbcType=VARCHAR},
      </if>
      <if test="ptProSetupDate != null" >
        PT_PRO_SETUP_DATE = #{ptProSetupDate,jdbcType=VARCHAR},
      </if>
      <if test="ptProEndDate != null" >
        PT_PRO_END_DATE = #{ptProEndDate,jdbcType=VARCHAR},
      </if>
      <if test="ptProYieldType != null" >
        PT_PRO_YIELD_TYPE = #{ptProYieldType,jdbcType=VARCHAR},
      </if>
      <if test="ptProYield != null" >
        PT_PRO_YIELD = #{ptProYield,jdbcType=DECIMAL},
      </if>
      <if test="ptFeeFlag != null" >
        PT_FEE_FLAG = #{ptFeeFlag,jdbcType=VARCHAR},
      </if>
      <if test="ptIndiBuyFlag != null" >
        PT_INDI_BUY_FLAG = #{ptIndiBuyFlag,jdbcType=VARCHAR},
      </if>
      <if test="ptInstBuyFlag != null" >
        PT_INST_BUY_FLAG = #{ptInstBuyFlag,jdbcType=VARCHAR},
      </if>
      <if test="ptProCfmWay != null" >
        PT_PRO_CFM_WAY = #{ptProCfmWay,jdbcType=VARCHAR},
      </if>
      <if test="ptAnnuCalDays != null" >
        PT_ANNU_CAL_DAYS = #{ptAnnuCalDays,jdbcType=VARCHAR},
      </if>
      <if test="ptMaxAmountRaised != null" >
        PT_MAX_AMOUNT_RAISED = #{ptMaxAmountRaised,jdbcType=DECIMAL},
      </if>
      <if test="ptMinAmountRaised != null" >
        PT_MIN_AMOUNT_RAISED = #{ptMinAmountRaised,jdbcType=DECIMAL},
      </if>
      <if test="ptCtime != null" >
        PT_CTIME = #{ptCtime,jdbcType=TIMESTAMP},
      </if>
      <if test="ptUtime != null" >
        PT_UTIME = #{ptUtime,jdbcType=TIMESTAMP},
      </if>
      <if test="ptCuser != null" >
        PT_CUSER = #{ptCuser,jdbcType=VARCHAR},
      </if>
      <if test="ptUuser != null" >
        PT_UUSER = #{ptUuser,jdbcType=VARCHAR},
      </if>
      <if test="ptCurrency != null" >
       PT_CURRENCY = #{ptCurrency,jdbcType=VARCHAR},
      </if>
      <if test="ptCheckState != null" >
        PT_CHECK_STATE = #{ptCheckState,jdbcType=VARCHAR},
      </if>
      <if test="ptAction != null" >
        PT_ACTION = #{ptAction,jdbcType=VARCHAR},
      </if>
      <if test="ptValidFlag != null" >
        PT_VALID_FLAG = #{ptValidFlag,jdbcType=VARCHAR},
      </if>
      <if test="ptProCalculateType != null" >
        PT_PRO_CALCULATE_TYPE = #{ptProCalculateType,jdbcType=VARCHAR},
      </if>
    </set>
    where PT_ID = #{ptId,jdbcType=DECIMAL}
  </update>
  <update id="updateByPrimaryKey1" parameterType="com.sams.custom.model.ProductTemplate" >
    update P_PRODUCT_TEMPLATE
    set PT_TEMPLATE_CODE = #{ptTemplateCode,jdbcType=VARCHAR},
      PT_TEMPLATE_NAME = #{ptTemplateName,jdbcType=VARCHAR},
      PT_PRODUCT_CODE = #{ptProductCode,jdbcType=VARCHAR},
      PT_INDIVIDUAL_OR_INSTITUTION = #{ptIndividualOrInstitution,jdbcType=VARCHAR},
      PT_MIN_BIDS_AMT = #{ptMinBidsAmt,jdbcType=DECIMAL},
      PT_BIDS_DIFF_AMT = #{ptBidsDiffAmt,jdbcType=DECIMAL},
      PT_MAX_BIDS_AMT = #{ptMaxBidsAmt,jdbcType=DECIMAL},
      PT_MIN_APP_BIDS_AMT = #{ptMinAppBidsAmt,jdbcType=DECIMAL},
      PT_APP_BIDS_DIFF_AMT = #{ptAppBidsDiffAmt,jdbcType=DECIMAL},
      PT_MAX_APP_BIDS_AMT = #{ptMaxAppBidsAmt,jdbcType=DECIMAL},
      PT_MIN_REDEEM_VOL = #{ptMinRedeemVol,jdbcType=DECIMAL},
      PT_REDEEM_DIFF = #{ptRedeemDiff,jdbcType=DECIMAL},
      PT_MAX_VOL = #{ptMaxVol,jdbcType=DECIMAL},
      PT_MIN_VOL = #{ptMinVol,jdbcType=DECIMAL},
      PT_CHANNEL_RATE = #{ptChannelRate,jdbcType=DECIMAL},
      PT_PAY_TYPE = #{ptPayType,jdbcType=VARCHAR},
      PT_IPO_BEGIN_DATE = #{ptIpoBeginDate,jdbcType=VARCHAR},
      PT_IPO_END_DATE = #{ptIpoEndDate,jdbcType=VARCHAR},
      PT_PRO_SETUP_DATE = #{ptProSetupDate,jdbcType=VARCHAR},
      PT_PRO_END_DATE = #{ptProEndDate,jdbcType=VARCHAR},
      PT_PRO_YIELD_TYPE = #{ptProYieldType,jdbcType=VARCHAR},
      PT_PRO_YIELD = #{ptProYield,jdbcType=DECIMAL},
      PT_FEE_FLAG = #{ptFeeFlag,jdbcType=VARCHAR},
      PT_INDI_BUY_FLAG = #{ptIndiBuyFlag,jdbcType=VARCHAR},
      PT_INST_BUY_FLAG = #{ptInstBuyFlag,jdbcType=VARCHAR},
      PT_PRO_CFM_WAY = #{ptProCfmWay,jdbcType=VARCHAR},
      PT_ANNU_CAL_DAYS = #{ptAnnuCalDays,jdbcType=VARCHAR},
      PT_CHECK_STATE = #{ptCheckState,jdbcType=VARCHAR},
      PT_MAX_AMOUNT_RAISED = #{ptMaxAmountRaised,jdbcType=DECIMAL},
      PT_MIN_AMOUNT_RAISED = #{ptMinAmountRaised,jdbcType=DECIMAL},
      PT_CTIME = #{ptCtime,jdbcType=TIMESTAMP},
      PT_UTIME = #{ptUtime,jdbcType=TIMESTAMP},
      PT_CUSER = #{ptCuser,jdbcType=VARCHAR},
      PT_UUSER = #{ptUuser,jdbcType=VARCHAR},
      PT_CURRENCY = #{ptCurrency,jdbcType=VARCHAR},
      PT_ACTION = #{ptAction,jdbcType=VARCHAR},
      PT_VALID_FLAG = #{ptValidFlag,jdbcType=VARCHAR},
      PT_PRO_CALCULATE_TYPE = #{ptProCalculateType,jdbcType=VARCHAR}
    where PT_ID = #{ptId,jdbcType=DECIMAL}
  </update>
  
    <select id="findProductTemplateCondition" parameterType="java.util.Map"  resultMap="BaseResultMap">
       select 
        <include refid="Base_Column_List"/> ,
        (SELECT DICT_NAME DICTNAME
          FROM SYS_DICT D
         WHERE D.DICT_CODE = t1.PT_PRODUCT_CODE
           and D.DICT_TYPE = 'fundType') DICTNAME
        from (select t.*,
                row_number() over(partition by pt_template_code order by pt_id desc) row_number
           from ( select * from P_PRODUCT_TEMPLATE where (pt_valid_flag !='00' or pt_check_state!='01')) t) t1
        where row_number = 1
        <if test="condition.ptTemplateCode != null and condition.ptTemplateCode != ''  ">
               and PT_TEMPLATE_CODE =  #{condition.ptTemplateCode,jdbcType=VARCHAR}
        </if>
        <if test="condition.ptTemplateName != null and condition.ptTemplateName != ''  ">
                and PT_TEMPLATE_NAME like  #{condition.ptTemplateName,jdbcType=VARCHAR}
        </if>
        <if test="condition.ptProductCode != null and condition.ptProductCode != '' ">
                and PT_PRODUCT_CODE =  #{condition.ptProductCode,jdbcType=VARCHAR}
        </if>
        <if test="pageInfo.sort != null and pageInfo.sort != ''">
            order by ${pageInfo.sort} ${pageInfo.order}
        </if>
       <!--  select
        <include refid="Base_Column_List"/>
        from P_PRODUCT_TEMPLATE where 1=1
        <if test="ptTemplateCode != null and ptTemplateCode != ''  ">
               and PT_TEMPLATE_CODE like  #{ptTemplateCode,jdbcType=VARCHAR}
        </if>
        <if test="ptTemplateName != null and ptTemplateName != ''  ">
                and PT_TEMPLATE_NAME like  #{ptTemplateName,jdbcType=VARCHAR}
        </if>
        <if test="ptProductCode != null and ptProductCode != '' ">
                and PT_PRODUCT_CODE =  #{ptProductCode,jdbcType=VARCHAR}
        </if> -->
    </select>
    
     
  <select id="findByTemplateByCode" resultType="int" parameterType="String" >
    select count(*)
    from P_PRODUCT_TEMPLATE
    where PT_TEMPLATE_CODE = #{ptTemplateCode,jdbcType=DECIMAL}
  </select>
  
   <select id="findByProductCode" resultMap="BaseResultMap" parameterType="String" >
    select 
    <include refid="Base_Column_List" />
    from P_PRODUCT_TEMPLATE
    where pt_template_code = #{productCode,jdbcType=DECIMAL}
  </select>
  
  <select id="selectNextCodeSequence" resultType = "String">
  		select P_PRODUCT_TEMPLATE_CODE.nextval from dual
  </select>
  
  <select id="queryTempalteCodeComBox" resultType="Map">
  		select DISTINCT PT_TEMPLATE_CODE CODE, PT_TEMPLATE_NAME || '(' || PT_TEMPLATE_CODE || ')' NAME from P_PRODUCT_TEMPLATE where (pt_valid_flag !='00' or pt_check_state !='01')
  </select>
  
  <select id="queryTempalteNameComBox" resultType="Map">
  		   select DISTINCT PT_TEMPLATE_NAME name from P_PRODUCT_TEMPLATE where pt_valid_flag !='00'
  </select>
  
  <select id="queryTempalteComBox" resultType="Map">
           select distinct pt_template_code code,pt_template_name || '(' || pt_template_code || ')' name from p_product_template where pt_valid_flag='01' and pt_check_state='01'
  </select>
  
  <select id="getSysDate" resultType="java.util.Date">
            select sysdate from dual
  </select>
  
</mapper>